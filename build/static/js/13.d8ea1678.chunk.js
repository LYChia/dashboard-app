(this["webpackJsonpcasa.casanet.dashboard"]=this["webpackJsonpcasa.casanet.dashboard"]||[]).push([[13],{355:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(342),c=n(721),i=n(747),r=n(722),s=n(723),o=n(724),l=n(725),d=n(556),j=n(764),b=n(0),u=n(4),h=b.forwardRef((function(e,t){return Object(u.jsx)(c.a,Object(a.a)({direction:"up",ref:t},e))}));function p(e){var t=e.open,n=e.onSubmit,a=e.onCancel,c=e.submitText,b=e.cancelText,p=e.text,f=e.title,O=e.submitColor;return Object(u.jsx)("div",{children:Object(u.jsxs)(i.a,{open:t,TransitionComponent:h,keepMounted:!0,onClose:a,"aria-describedby":"alert-dialog-slide-description",children:[Object(u.jsx)(r.a,{children:f}),Object(u.jsx)(s.a,{children:Object(u.jsx)(o.a,{id:"alert-dialog-slide-description",children:p})}),Object(u.jsxs)(l.a,{children:[Object(u.jsx)(d.a,{variant:"contained",onClick:a,children:b}),Object(u.jsx)(j.a,{variant:"contained",color:O,onClick:n,children:c})]})]})})}},372:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=r},373:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.default=r},380:function(e,t,n){"use strict";var a=n(136),c=n(138);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(0)),r=(0,a(n(139)).default)(i.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=r},381:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=r},389:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=r},443:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=r},449:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");t.default=r},474:function(e,t,n){"use strict";var a=n(1),c=n(5),i=n(0),r=(n(6),n(9)),s=n(703),o=n(11),l=n(387),d=i.forwardRef((function(e,t){var n=e.children,o=e.classes,d=e.className,j=e.component,b=void 0===j?"div":j,u=e.disablePointerEvents,h=void 0!==u&&u,p=e.disableTypography,f=void 0!==p&&p,O=e.position,v=e.variant,x=Object(c.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),g=Object(l.b)()||{},m=v;return v&&g.variant,g&&!m&&(m=g.variant),i.createElement(l.a.Provider,{value:null},i.createElement(b,Object(a.a)({className:Object(r.a)(o.root,d,"end"===O?o.positionEnd:o.positionStart,h&&o.disablePointerEvents,g.hiddenLabel&&o.hiddenLabel,"filled"===m&&o.filled,"dense"===g.margin&&o.marginDense),ref:t},x),"string"!==typeof n||f?n:i.createElement(s.a,{color:"textSecondary"},n)))}));t.a=Object(o.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},552:function(e,t,n){"use strict";var a=n(1),c=n(5),i=n(0),r=(n(6),n(9)),s=n(21),o=n(11),l=n(57),d=n(24),j=n(703),b=i.forwardRef((function(e,t){var n=e.classes,o=e.className,b=e.color,u=void 0===b?"primary":b,h=e.component,p=void 0===h?"a":h,f=e.onBlur,O=e.onFocus,v=e.TypographyClasses,x=e.underline,g=void 0===x?"hover":x,m=e.variant,y=void 0===m?"inherit":m,w=Object(c.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),k=Object(l.a)(),C=k.isFocusVisible,S=k.onBlurVisible,z=k.ref,M=i.useState(!1),_=M[0],I=M[1],T=Object(d.a)(t,z);return i.createElement(j.a,Object(a.a)({className:Object(r.a)(n.root,n["underline".concat(Object(s.a)(g))],o,_&&n.focusVisible,"button"===p&&n.button),classes:v,color:u,component:p,onBlur:function(e){_&&(S(),I(!1)),f&&f(e)},onFocus:function(e){C(e)&&I(!0),O&&O(e)},ref:T,variant:y},w))}));t.a=Object(o.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(b)},607:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M5 3v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2zm12 15H7V6h10v12zm-1-6h-3V8h-2v4H8l4 4 4-4z"}),"SecurityUpdate");t.default=r},608:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 17H7V6h10v12zm-1-7.95-1.41-1.41-3.54 3.54-1.41-1.41-1.41 1.41L11.05 15 16 10.05z"}),"SecurityUpdateGood");t.default=r},609:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M17 1.01 7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"}),"StayCurrentPortrait");t.default=r},610:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload");t.default=r},611:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=r},612:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");t.default=r},613:function(e,t,n){"use strict";var a=n(136);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(335)),i=n(4),r=(0,c.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");t.default=r},736:function(e,t,n){"use strict";n.r(t),n.d(t,"SettingItem",(function(){return Pe})),n.d(t,"default",(function(){return Le}));var a=n(284),c=n(703),i=n(323),r=n(321),s=n(709),o=n(552),l=n(319),d=n(44),j=n.n(d),b=n(76),u=n(322),h=n(36),p=n(389),f=n.n(p),O=n(339),v=n(4);function x(e){var t=e.fontRation||h.f;return Object(v.jsxs)(a.a,{style:{marginBottom:.8*t},container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(v.jsx)("div",{children:Object(v.jsxs)(a.a,{style:{width:"100%"},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)("div",{children:Object(v.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(v.jsx)(c.a,{style:{fontSize:.8*t},children:e.title}),e.tip&&Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e.tip}),children:Object(v.jsx)(f.a,{style:{fontSize:.8*t,marginTop:-.2*t}})})]})}),Object(v.jsx)("div",{children:e.button})]})}),Object(v.jsx)("div",{children:e.children})]})}var g=n(346),m=n(610),y=n.n(m),w=n(337),k=n(92),C=n(351),S=n(35),z=n(39),M=n(710),_=n(96),I=n(0),T=n(397),V=n(338),D=n(608),H=n.n(D),P=n(607),A=n.n(P),L=n(56),F=n(745),E=n(340),B=n(449),R=n.n(B),N=n(609),U=n.n(N),K=n(769),W=n(355),$=n(369),J=n(409),Y=Object(M.a)((function(e){var t,n;return{iconBadge:(t={},Object(z.a)(t,Object(E.e)(e),9),Object(z.a)(t,"marginTop",-4),Object(z.a)(t,"border","3px solid ".concat(e.palette.background.paper)),Object(z.a)(t,"padding","0 4px"),t),textBadge:(n={},Object(z.a)(n,Object(E.e)(e),0),Object(z.a)(n,"marginTop",6),Object(z.a)(n,"border","1px solid ".concat(e.palette.background.paper)),Object(z.a)(n,"padding","0 2px"),n)}}));function G(e){var t=Object(_.a)();return Object(v.jsx)(O.a,{hideTip:!e.tip,title:Object(v.jsx)("span",{children:e.tip}),children:Object(v.jsx)(u.a,{onClick:function(){window.open(e.link,"_blank")},color:"inherit",style:Object(z.a)({padding:.15*h.f,marginTop:.5*-h.f},Object(E.e)(t),.15*-h.f),children:Object(v.jsx)(R.a,{style:{fontSize:.8*h.f}})})})}function X(){var e=Object(l.a)().t,t=Y(),n=Object($.a)(T.b,void 0,{skipErrorToastOnFailure:!0}),i=Object(S.a)(n,1)[0],r=Object($.a)(T.c,void 0,{skipErrorToastOnFailure:!0}),s=Object(S.a)(r,1)[0],o=Object(I.useState)(),d=Object(S.a)(o,2),p=d[0],f=d[1],O=Object(I.useState)(!1),x=Object(S.a)(O,2),m=x[0],y=x[1];function z(){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),e.prev=1,t=V.i.InProgress;case 3:if(t!==V.i.InProgress){e.next=17;break}return e.prev=4,e.next=7,w.a.VersionApi.getUpdateStatus();case 7:return n=e.sent,t=n.updateStatus,e.next=11,Object(C.f)(L.Duration.FromSeconds(5));case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:e.next=3;break;case 17:if(t!==V.i.Fail){e.next=21;break}Object(k.c)({responseCode:1501}),e.next=28;break;case 21:return e.next=23,T.b.forceFetchData();case 23:return e.next=25,T.c.forceFetchData();case 25:return e.next=27,Object(J.a)();case 27:k.b.post({messageKey:"dashboard.settings.general.update.succeed",duration:L.Duration.FromSeconds(20)});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(1),Object(k.a)(e.t1);case 33:f(!1);case 34:case"end":return e.stop()}}),e,null,[[1,30],[4,13]])})))).apply(this,arguments)}function _(){return(_=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,w.a.VersionApi.updateVersion();case 4:return e.next=6,z();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(k.a)(e.t0);case 11:f(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(I.useEffect)((function(){Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.VersionApi.getUpdateStatus();case 3:e.sent.updateStatus===V.i.InProgress&&z(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(v.jsx)(Pe,{title:e("dashboard.settings.general.update.server.version"),children:Object(v.jsxs)(a.a,{style:{width:"100%"},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)(W.a,{open:m,cancelText:e("global.cancel"),submitText:e("global.update"),title:e("dashboard.settings.general.update.server.alert.title",{version:s}),text:e("dashboard.settings.general.update.server.alert.text"),onCancel:function(){return y(!1)},onSubmit:function(){y(!1),function(){_.apply(this,arguments)}()},submitColor:"primary"}),Object(v.jsxs)("div",{style:{width:"70%"},children:[Object(v.jsxs)(a.a,{style:{maxWidth:"100%"},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)("div",{children:e("dashboard.settings.general.update.version")}),(null===i||void 0===i?void 0:i.version)&&Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(c.a,{children:null===i||void 0===i?void 0:i.version}),Object(v.jsx)(G,{link:"".concat(h.n,"/releases/tag/").concat(null===i||void 0===i?void 0:i.version),tip:e("dashboard.settings.general.update.version.link.tip",{version:null===i||void 0===i?void 0:i.version})})]})]}),Object(v.jsxs)(a.a,{style:{width:"100%"},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)("div",{children:e("dashboard.settings.general.update.commit")}),(null===i||void 0===i?void 0:i.commitHash)&&Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(c.a,{children:null===i||void 0===i?void 0:i.commitHash}),Object(v.jsx)(G,{link:"".concat(h.n,"/tree/").concat(null===i||void 0===i?void 0:i.commitHash),tip:e("dashboard.settings.general.update.commit.link.tip")})]})]}),!s&&Object(v.jsxs)(a.a,{style:{width:"100%"},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)("div",{children:e("dashboard.settings.general.update.release.date")}),(null===i||void 0===i?void 0:i.timestamp)&&Object(v.jsx)("div",{children:new Date(i.timestamp).toLocaleDateString()})]}),s&&Object(v.jsxs)(a.a,{style:{width:"100%"},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(v.jsx)("div",{children:Object(v.jsx)(F.a,{color:"error",overlap:"rectangular",variant:"dot",classes:{badge:t.textBadge},children:Object(v.jsx)(c.a,{children:e("dashboard.settings.general.update.available.version")})})}),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(c.a,{children:s}),Object(v.jsx)(G,{link:"".concat(h.n,"/releases/tag/").concat(s),tip:e("dashboard.settings.general.update.available.version.link.tip",{version:s})})]})]})]}),Object(v.jsx)("div",{style:{width:"25%"},children:Object(v.jsx)(a.a,{style:{width:"100%"},container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object(v.jsxs)(u.a,{disabled:p||!g.a.isAdmin,onClick:function(){s?y(!0):k.b.post({messageKey:"dashboard.settings.general.update.already.updated",duration:L.Duration.FromSeconds(3)})},color:"inherit",children:[!p&&s&&Object(v.jsx)(F.a,{color:"error",overlap:"circular",badgeContent:" ",classes:{badge:t.iconBadge},children:Object(v.jsx)(A.a,{style:{fontSize:3.5*h.f}})}),!p&&!s&&Object(v.jsx)(H.a,{style:{fontSize:3.5*h.f}}),p&&Object(v.jsxs)("div",{children:[Object(v.jsx)(U.a,{style:{fontSize:3.5*h.f}}),Object(v.jsx)("div",{style:{maxHeight:0,position:"relative"},children:Object(v.jsxs)("div",{style:{top:-55,left:27,position:"absolute"},children:[" ",Object(v.jsx)(K.a,{size:15,color:"inherit",thickness:5})]})})]})]})})})]})})}function q(){var e=Object(l.a)().t;function t(){return(t=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.DefaultApi.getSettingsBackup();case 3:return t=e.sent,n="casanet_backup_".concat((new Date).toLocaleDateString(),".zip"),e.next=7,t.arrayBuffer();case 7:a=e.sent,Object(C.c)(a,n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(k.a)(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function n(){return(n=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.DefaultApi.getLastLogs();case 3:return t=e.sent,n="casanet_".concat((new Date).toLocaleDateString(),".log"),e.next=7,t.arrayBuffer();case 7:a=e.sent,Object(C.c)(a,n),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(k.a)(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(v.jsxs)(a.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(v.jsx)(Pe,{title:e("dashboard.settings.general.backup"),children:Object(v.jsx)(x,{title:e("dashboard.settings.general.backup.server.data"),tip:e("dashboard.settings.general.backup.server.data.tip"),button:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.general.backup.server.download.data.tip")}),children:Object(v.jsx)(u.a,{disabled:!g.a.isAdmin,onClick:function(){return t.apply(this,arguments)},color:"inherit",children:Object(v.jsx)(y.a,{style:{fontSize:h.f}})})})})}),Object(v.jsx)(Pe,{title:e("dashboard.settings.general.logs"),children:Object(v.jsx)(x,{title:e("dashboard.settings.general.logs.download.server.logs"),tip:e("dashboard.settings.general.logs.download.server.logs.tip"),button:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.general.logs.download.server.logs.button.tip")}),children:Object(v.jsx)(u.a,{disabled:!g.a.isAdmin,onClick:function(){return n.apply(this,arguments)},color:"inherit",children:Object(v.jsx)(y.a,{style:{fontSize:h.f}})})})})}),Object(v.jsx)(X,{})]})}var Q=n(477),Z=n(759),ee=n(753),te=n(474),ne=n(556),ae=n(372),ce=n.n(ae),ie=n(373),re=n.n(ie),se=n(381),oe=n.n(se),le=n(611),de=n.n(le),je=n(763);function be(){var e=Object(l.a)().t,t=Object(I.useState)(""),n=Object(S.a)(t,2),c=n[0],i=n[1],r=Object(I.useState)(),s=Object(S.a)(r,2),o=s[0],d=s[1],p=Object(I.useState)(),f=Object(S.a)(p,2),g=f[0],m=f[1],y=Object(I.useState)(""),z=Object(S.a)(y,2),M=z[0],_=z[1],V=Object(I.useState)(),D=Object(S.a)(V,2),H=D[0],P=D[1],A=Object(I.useState)(""),L=Object(S.a)(A,2),F=L[0],E=L[1],B=Object(I.useState)(),R=Object(S.a)(B,2),N=R[0],U=R[1],K=Object(I.useState)(!1),W=Object(S.a)(K,2),$=W[0],Y=W[1];function G(){var e=!0;return M&&Object(C.e)(M,"ws")||(e=!1,P(!0)),(!F||F.length<h.m)&&(e=!1,U(!0)),e}function X(){return(X=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G()){e.next=2;break}return e.abrupt("return");case 2:return m(!0),e.prev=3,e.next=6,w.a.RemoteApi.setRemoteSettings({host:M,connectionKey:F});case 6:return e.next=8,T.a.forceFetchData();case 8:return t=e.sent,i(t),e.next=12,Object(J.a)();case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(3),e.next=18,Object(k.a)(e.t0);case 18:m(!1),q();case 20:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function q(){d(!o),_(c),E(""),P(!1),U(!1)}return Object(I.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.getData();case 3:t=e.sent,i(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(v.jsx)(x,{title:e("dashboard.settings.connectivity.edit.connection"),tip:e("dashboard.settings.connectivity.edit.connection.tip"),button:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.connectivity.edit.connection.button")}),children:Object(v.jsxs)(u.a,{disabled:g,onClick:q,color:"inherit",children:[!o&&Object(v.jsx)(oe.a,{style:{fontSize:h.f}}),o&&Object(v.jsx)(de.a,{style:{fontSize:h.f}})]})}),children:Object(v.jsx)("div",{children:Object(v.jsx)(Z.a,{in:o,children:Object(v.jsxs)(a.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(v.jsx)("div",{style:{margin:.7*h.f},children:Object(v.jsx)(ee.a,{style:{width:"100%"},disabled:g,error:H,variant:"standard",value:M,placeholder:e("dashboard.settings.connectivity.edit.remote.url.placeholder"),helperText:e("dashboard.settings.connectivity.edit.remote.url.helper"),onChange:function(e){P(!1),_(e.target.value)}})}),Object(v.jsx)("div",{style:{margin:.7*h.f,marginTop:.1*h.f},children:Object(v.jsx)(ee.a,{style:{width:"100%"},disabled:g,error:N,variant:"standard",type:$?"text":"password",value:F,autoComplete:"new-password",placeholder:e("dashboard.settings.connectivity.edit.remote.key.placeholder"),helperText:e("dashboard.settings.connectivity.edit.remote.key.helper",{length:h.m}),onChange:function(e){U(!1),E(e.target.value)},InputProps:{endAdornment:Object(v.jsx)(te.a,{position:"end",children:Object(v.jsx)(u.a,{onClick:function(){Y(!$)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:$?Object(v.jsx)(ce.a,{}):Object(v.jsx)(re.a,{})})})}})}),Object(v.jsx)("div",{style:{marginLeft:.7*h.f,marginRight:.7*h.f},children:Object(v.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-end",children:[Object(v.jsx)(ne.a,{disabled:g,variant:"contained",onClick:q,children:e("global.cancel")}),Object(v.jsx)(je.a,{style:{minWidth:"35%"},loading:g,disabled:g,loadingPosition:"center",variant:"contained",color:"primary",onClick:function(){return X.apply(this,arguments)},children:e("global.save")})]})})]})})})})}var ue=n(287),he=n(443),pe=n.n(he),fe=n(379);function Oe(){var e=Object(l.a)().t,t=Object(fe.a)().remoteConnection,n=Object(I.useState)(),a=Object(S.a)(n,2),c=a[0],i=a[1],r=Object(I.useState)(!1),s=Object(S.a)(r,2),o=s[0],d=s[1];function p(){return(p=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,w.a.RemoteApi.removeRemoteSettings();case 4:return T.a.postNewData(""),e.next=7,Object(J.a)();case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,Object(k.a)(e.t0);case 13:i(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)(W.a,{open:o,cancelText:e("global.cancel"),submitText:e("dashboard.settings.connectivity.disconnect.remote.button"),title:e("dashboard.settings.connectivity.disconnect.remote.alert.title"),text:e("dashboard.settings.connectivity.disconnect.remote.alert.text"),onCancel:function(){return d(!1)},onSubmit:function(){d(!1),function(){p.apply(this,arguments)}()},submitColor:"error"}),Object(v.jsx)(x,{title:e("dashboard.settings.connectivity.disconnect.remote"),tip:e("dashboard.settings.connectivity.disconnect.remote.tip"),button:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.connectivity.disconnect.remote.button")}),children:Object(v.jsxs)(u.a,{disabled:t===V.j.NotConfigured||c,onClick:function(){return d(!0)},color:"inherit",children:[!c&&Object(v.jsx)(pe.a,{style:{fontSize:h.f}}),c&&Object(v.jsx)(ue.a,{size:.8*h.f,thickness:10})]})})})]})}var ve=n(755),xe=n(380),ge=n.n(xe),me=n(612),ye=n.n(me);function we(){var e=Object(l.a)().t,t=Object(_.a)(),n=Object(I.useState)(),a=Object(S.a)(n,2),i=a[0],r=a[1],s=Object(I.useState)(),o=Object(S.a)(s,2),d=o[0],p=o[1];function f(){return(f=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,w.a.RemoteApi.getMachineMac();case 4:t=e.sent,p(t),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,Object(k.a)(e.t0);case 12:r(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(v.jsx)(x,{title:e("dashboard.settings.connectivity.show.physical.address"),tip:e("dashboard.settings.connectivity.show.physical.address.tip"),button:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.connectivity.show.physical.".concat(d?"hide":"show",".button"))}),children:Object(v.jsxs)(u.a,{disabled:i,onClick:function(){d?p(""):function(){f.apply(this,arguments)}()},color:"inherit",children:[i&&Object(v.jsx)(ge.a,{style:{fontSize:h.f,color:Object(E.a)(!1,t)}}),!i&&!d&&Object(v.jsx)(ce.a,{style:{fontSize:h.f}}),!i&&d&&Object(v.jsx)(re.a,{style:{fontSize:h.f}})]})}),children:Object(v.jsx)(Z.a,{in:i||!!d,children:Object(v.jsxs)("div",{style:{textAlign:"center",margin:.7*h.f},children:[i&&Object(v.jsxs)(c.a,{style:{color:t.palette.text.hint},children:[" ",e("dashboard.settings.connectivity.show.physical.fetching.address")," "]}),!i&&d&&Object(v.jsx)(ve.a,{style:{width:"100%"},type:"text",value:d,endAdornment:Object(v.jsx)(te.a,{position:"end",children:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.connectivity.show.physical.copy.address.to.clipboard")}),children:Object(v.jsx)(u.a,{onClick:function(){Object(C.b)(d||""),k.b.post({messageKey:"dashboard.settings.connectivity.show.physical.copied.address.to.clipboard",duration:L.Duration.FromSeconds(3)})},edge:"end",children:Object(v.jsx)(ye.a,{})})})})})]})})})}var ke=n(613),Ce=n.n(ke),Se=n(362);function ze(){var e=Object(l.a)().t,t=Object(_.a)(),n=Object(fe.a)().remoteConnection,i=Object(I.useState)(),r=Object(S.a)(i,2),s=r[0],o=r[1],d=Object(I.useState)(),p=Object(S.a)(d,2),f=p[0],g=p[1],m=Object(I.useState)(""),y=Object(S.a)(m,2),C=y[0],z=y[1],M=Object(I.useState)(""),T=Object(S.a)(M,2),D=T[0],H=T[1],P=Object(I.useState)(!1),A=Object(S.a)(P,2),L=A[0],F=A[1];function B(){return(B=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Se.b.forceFetchData();case 4:t=e.sent,g(t),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,Object(k.a)(e.t0);case 12:o(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function R(){return(R=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(C),e.prev=1,e.next=4,w.a.UsersApi.removeUserForwarding(C);case 4:g(null===f||void 0===f?void 0:f.filter((function(e){return e!==C}))),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,Object(k.a)(e.t0);case 11:H("");case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)(W.a,{open:L,cancelText:e("global.cancel"),submitText:e("dashboard.settings.connectivity.show.registered.unregister"),title:e("dashboard.settings.connectivity.show.registered.unregister.alert.title",{user:C}),text:e("dashboard.settings.connectivity.show.registered.unregister.alert.text",{user:C}),onCancel:function(){return F(!1)},onSubmit:function(){F(!1),function(){R.apply(this,arguments)}()},submitColor:"error"}),Object(v.jsx)(x,{title:e("dashboard.settings.connectivity.show.registered.users"),tip:e("dashboard.settings.connectivity.show.registered.users.tip"),button:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.connectivity.show.registered.".concat(f?"hide":"show",".users"))}),children:Object(v.jsxs)(u.a,{disabled:n!==V.j.ConnectionOK||s,onClick:function(){f?g(void 0):function(){B.apply(this,arguments)}()},color:"inherit",children:[s&&Object(v.jsx)(ge.a,{style:{fontSize:h.f,color:Object(E.a)(!1,t)}}),!s&&!f&&Object(v.jsx)(ce.a,{style:{fontSize:h.f}}),!s&&f&&Object(v.jsx)(re.a,{style:{fontSize:h.f}})]})}),children:Object(v.jsx)(Z.a,{in:!!f,children:Object(v.jsx)("div",{style:{margin:.7*h.f},children:null===f||void 0===f?void 0:f.map((function(t){return Object(v.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(v.jsx)("div",{children:Object(v.jsx)(O.a,{title:Object(v.jsx)("span",{children:e("dashboard.settings.connectivity.show.registered.unregister.user",{user:t})}),children:Object(v.jsxs)(u.a,{disabled:!!D,onClick:function(){z(t),F(!0)},color:"inherit",children:[D!==t&&Object(v.jsx)(Ce.a,{style:{fontSize:.9*h.f}}),D===t&&Object(v.jsx)(ue.a,{size:.8*h.f,thickness:10})]})})}),Object(v.jsx)("div",{children:Object(v.jsx)(c.a,{style:{fontSize:.8*h.f},children:t})})]})}))})})})]})}function Me(){var e=Object(l.a)().t,t=Object($.a)(T.a,"",{skipErrorToastOnFailure:!0}),n=Object(S.a)(t,1)[0],i=Object(fe.a)().remoteConnection;return Object(v.jsxs)(a.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(v.jsx)(Pe,{title:e("dashboard.settings.connectivity.remote.server.status"),children:Object(v.jsx)(c.a,{children:e(Q.a[i])})}),Object(v.jsx)(Z.a,{in:!!n,children:Object(v.jsx)(Pe,{title:e("dashboard.settings.connectivity.remote.server.url"),children:Object(v.jsx)(c.a,{children:n})})}),g.a.isAdmin&&Object(v.jsx)(Pe,{title:e("dashboard.settings.connectivity.configure.remote.server"),children:Object(v.jsxs)(a.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(v.jsx)(be,{}),Object(v.jsx)(Oe,{}),Object(v.jsx)(we,{}),Object(v.jsx)(ze,{})]})})]})}var _e=n(342),Ie=n(63),Te=n(87),Ve=n(740),De=n(353);function He(){var e=Object(l.a)().t,t=Object(_.a)();return Object(v.jsxs)(a.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(v.jsx)(Pe,{title:e("dashboard.settings.interface.language"),children:Object(v.jsx)(Ve.a,{value:Object(Ie.a)(),options:Te.a,getOptionLabel:function(e){return"".concat(e.langInfo.name," (").concat(e.langInfo.nativeName,")")},clearText:e("global.clear"),closeText:e("global.close"),noOptionsText:e("global.no.option"),onChange:function(e,t){t&&Object(Ie.b)(t.langCode)},renderInput:function(e){return Object(v.jsx)(ee.a,Object(_e.a)(Object(_e.a)({},e),{},{variant:"standard"}))}})}),Object(v.jsx)(Pe,{title:e("dashboard.settings.interface.lightweight.dashboard"),children:Object(v.jsxs)(a.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"stretch",children:[Object(v.jsx)(o.a,{variant:"h6",target:"_blank",href:De.a.lightweightUrl,children:e("dashboard.settings.interface.lightweight.dashboard")}),Object(v.jsx)(c.a,{variant:"body1",style:{color:t.palette.text.hint,fontSize:.7*h.f},children:e("dashboard.settings.interface.lightweight.dashboard.info")})]})}),Object(v.jsx)(Pe,{title:e("dashboard.settings.interface.v3.dashboard"),children:Object(v.jsxs)(a.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"stretch",children:[Object(v.jsx)(o.a,{variant:"h6",target:"_blank",href:De.a.v3DashboardUri,children:e("dashboard.settings.interface.v3.dashboard")}),Object(v.jsx)(c.a,{variant:"body1",style:{color:t.palette.text.hint,fontSize:.7*h.f},children:e("dashboard.settings.interface.v3.dashboard.info")})]})})]})}function Pe(e){return Object(v.jsxs)(a.a,{style:{marginTop:2*h.f},container:!0,direction:"column",justifyContent:"center",alignItems:"stretch",children:[Object(v.jsxs)("div",{style:{marginBottom:.5*h.f},children:[" ",Object(v.jsx)(c.a,{variant:"body2",color:"textSecondary",children:e.title})]}),Object(v.jsx)("div",{children:e.children})]})}function Ae(e){var t=Object(i.a)((function(e){return e.breakpoints.up("xl")})),n=Object(i.a)((function(e){return e.breakpoints.up("lg")}));return Object(v.jsx)(r.a,{elevation:3,style:{marginBottom:h.f,width:n?t?"32%":"49%":"100%"},children:Object(v.jsxs)(a.a,{style:{padding:.7*h.f},container:!0,direction:"column",justifyContent:"center",alignItems:"stretch",children:[Object(v.jsxs)("div",{children:[" ",Object(v.jsx)(c.a,{variant:"h4",children:e.title})]}),Object(v.jsxs)("div",{style:{marginTop:.5*h.f},children:[Object(v.jsx)(s.a,{})," "]}),Object(v.jsx)("div",{children:e.children})]})})}function Le(){var e=Object(l.a)().t;return Object(v.jsxs)(a.a,{style:{width:"100%",height:"100%"},container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",children:[Object(v.jsx)("div",{style:{width:"100%",maxWidth:"100%",height:"calc(100% - ".concat(20,"px)"),maxHeight:"calc(100% - ".concat(20,"px)"),overflowX:"hidden",overflowY:"auto"},children:Object(v.jsxs)(a.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[Object(v.jsx)(Ae,{title:e("dashboard.settings.general"),children:Object(v.jsx)(q,{})}),Object(v.jsx)(Ae,{title:e("dashboard.settings.interface"),children:Object(v.jsx)(He,{})}),Object(v.jsx)(Ae,{title:e("dashboard.settings.connectivity"),children:Object(v.jsx)(Me,{})})]})}),Object(v.jsx)("div",{style:{textAlign:"center",maxHeight:20},children:Object(v.jsx)(a.a,{style:{marginTop:10},container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object(v.jsxs)(c.a,{children:[Object(v.jsx)(o.a,{style:{marginLeft:3,marginRight:3},target:"_blank",href:h.l,children:"Casanet Project"}),"- \xa9 Haim Kastner 2019-",(new Date).getFullYear()]})})})]})}}}]);
//# sourceMappingURL=13.d8ea1678.chunk.js.map