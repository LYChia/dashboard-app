{"version":3,"sources":["components/AlertDialog.tsx","../node_modules/@mui/icons-material/Visibility.js","../node_modules/@mui/icons-material/VisibilityOff.js","components/global/ThemeSwitch.tsx","components/NoContent.tsx","../node_modules/@mui/icons-material/Block.js","logic/common/usersUtils.ts","../node_modules/@mui/icons-material/CloudOff.js","components/NoPermissions.tsx","../node_modules/@mui/icons-material/CloudDone.js","../node_modules/@material-ui/core/esm/InputAdornment/InputAdornment.js","../node_modules/@mui/icons-material/Password.js","../node_modules/@mui/icons-material/CloudUpload.js","../node_modules/@mui/icons-material/ArrowBack.js","../node_modules/@mui/icons-material/ArrowForward.js","../node_modules/@mui/icons-material/WarningAmber.js","../node_modules/@mui/material/internal/svg-icons/Person.js","../node_modules/@mui/material/Avatar/avatarClasses.js","../node_modules/@mui/material/Avatar/Avatar.js","components/profile/ProfileName.tsx","components/profile/ProfileScope.tsx","components/profile/ProfileRevokeSession.tsx","components/profile/ProfileOverridePass.tsx","components/profile/ProfileRemoteAccess.tsx","components/profile/ProfileTFA.tsx","pages/dashboard-pages/Profile.tsx"],"names":["Transition","React","props","ref","direction","AlertDialog","open","onSubmit","onCancel","submitText","cancelText","text","title","submitColor","TransitionComponent","keepMounted","onClose","id","variant","onClick","color","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","useStyles","makeStyles","theme","track","backgroundColor","palette","grey","ThemeSwitch","classes","useTheme","type","checked","undefined","NoContent","desktopMode","useMediaQuery","breakpoints","up","Icon","message","fontRatio","style","width","height","textAlign","container","justifyContent","alignItems","fontSize","getModeColor","marginTop","mapAuthScopeToDisplay","AuthScopes","AdminAuth","UserAuth","NoPermissions","t","useTranslation","SensitiveContent","requiredScopes","includes","sessionManager","scope","children","InputAdornment","className","_props$component","component","Component","_props$disablePointer","disablePointerEvents","_props$disableTypogra","disableTypography","position","variantProp","other","_objectWithoutProperties","muiFormControl","useFormControl","FormControlContext","Provider","_extends","clsx","root","positionEnd","positionStart","hiddenLabel","filled","margin","marginDense","Typography","withStyles","display","maxHeight","whiteSpace","marginRight","marginLeft","pointerEvents","name","createSvgIcon","_jsx","getAvatarUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","AvatarRoot","styled","overridesResolver","styles","ownerState","colorDefault","flexShrink","fontFamily","typography","pxToRem","lineHeight","borderRadius","overflow","userSelect","shape","background","mode","AvatarImg","img","objectFit","textIndent","AvatarFallback","Person","fallback","Avatar","inProps","useThemeProps","alt","childrenProp","imgProps","sizes","src","srcSet","_objectWithoutPropertiesLoose","loaded","crossOrigin","referrerPolicy","setLoaded","active","image","Image","onload","onerror","srcset","useLoaded","hasImg","hasImgNotFailing","slots","composeClasses","useUtilityClasses","as","ProfileName","wideDesktopMode","useState","editNameMode","setEditNameMode","editingName","setEditingName","editNameError","setEditNameError","editName","setEditName","avatarLetters","useMemo","extractProfileAvatarText","profile","a","newProfile","displayName","ApiFacade","UsersApi","setUser","email","setProfile","handleServerRestError","Grid","DEFAULT_FONT_RATION","maxWidth","wordBreak","TextField","disabled","error","onChange","e","target","ThemeTooltip","IconButton","padding","CircularProgress","size","thickness","hint","ProfileScope","setScope","saving","setSaving","previousScope","useEffect","Autocomplete","isAdmin","multiple","limitTags","options","getOptionLabel","option","o","newScope","length","saveNewScope","renderInput","params","LinearProgress","ProfileRevokeSession","loading","setLoading","openRevokeAlert","setOpenRevokeAlert","AuthenticationApi","logoutSessions","revokeSessions","LoadingButton","inputColor","loadingPosition","endIcon","ProfileOverridePass","password","setPassword","showPasswordInputMode","setShowPasswordInputMode","showPassword","setShowPassword","passwordChangeRequired","Collapse","in","placeholder","helperText","PASSWORD_MIN_LENGTH","autoComplete","InputProps","endAdornment","onMouseDown","event","preventDefault","edge","Button","minWidth","ProfileRemoteAccess","remoteConnection","useLiveliness","prepareSendMode","setPrepareSendMode","waitForCodeMode","setWaitForCodeMode","authCode","setAuthCode","openUnregisterAlert","setOpenUnregisterAlert","requestUserForwarding","requestUserForwardingAuth","code","remoteRegisteredUsersService","forceFetchData","removeUserForwarding","remoteRegisteredUsers","connectionOK","RemoteConnectionStatus","ConnectionOK","unregisterUser","ProfileTFA","ignoreTfa","forceMfa","setForceMfa","previousForceMfa","newForceMfa","inputProps","Profile","useParams","history","useHistory","veryWideDesktopMode","useData","skipErrorToastOnFailure","BackIcon","ArrowBackIcon","ArrowForwardIcon","onProfileUpdate","usersService","reset","profileService","getData","users","find","u","Loader","PermIdentityOutlined","propsWidth","propsFontSize","remoteConnectionOK","paddingTop","paddingBottom","marginBottom","goBack","startIcon","overflowX","overflowY","paddingRight"],"mappings":"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","file":"static/js/14.3063033c.chunk.js","sourcesContent":["import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Slide } from '@material-ui/core';\nimport MuiButton from \"@mui/material/Button\";\nimport { TransitionProps } from '@material-ui/core/transitions';\nimport * as React from 'react';\n\nconst Transition = React.forwardRef(function Transition(\n  props: TransitionProps & {\n    children?: React.ReactElement<any, any>;\n  },\n  ref: React.Ref<unknown>,\n) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ninterface AlertDialogProps {\n\ttitle: string;\n\ttext?: string;\n\tsubmitText: string;\n\tcancelText: string;\n\topen: boolean;\n\tonSubmit: () => void;\n\tonCancel: () => void;\n\tsubmitColor?: \"inherit\" | \"error\" | \"primary\" | \"secondary\" | \"success\" | \"info\" | \"warning\" | undefined;\n}\n\nexport function AlertDialog(props: AlertDialogProps) {\n  const { open, onSubmit, onCancel, submitText, cancelText, text, title, submitColor } = props;\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={onCancel}\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle>{title}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            {text}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"contained\" onClick={onCancel}>{cancelText}</Button>\n          <MuiButton variant=\"contained\" color={submitColor} onClick={onSubmit}>{submitText}</MuiButton>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"\n}), 'VisibilityOff');\n\nexports.default = _default;","import { makeStyles, Theme, useTheme } from \"@material-ui/core\";\nimport Switch, { SwitchProps } from \"@mui/material/Switch\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n\ttrack: {\n\t\tbackgroundColor: `${theme.palette.grey[400]} !important`, // Used only for light mode, when the active is off, need to override the track color\n\t},\n}));\n\n/**\n * MUI  Switch with adaption to the dashboard's theme.\n */\nexport function ThemeSwitch(props: SwitchProps) {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\n\treturn <Switch {...props} classes={{\n\t\t// Override the track color in light and inactive mode only\n\t\ttrack: theme.palette.type === 'light' && !props.checked ? classes.track : undefined\n\t}} />;\n}\n","import { Grid, Theme, Typography, useMediaQuery, useTheme } from \"@material-ui/core\";\nimport { getModeColor } from \"../logic/common/themeUtils\";\n\ninterface NoContentProps {\n\tfontRatio?: number;\n\tIcon: any;\n\tmessage: string;\n}\n\n/**\n * Generic 'no content' component to show for empty pages\n */\nexport function NoContent(props: NoContentProps) {\n\tconst theme = useTheme();\n\tconst desktopMode = useMediaQuery((theme: Theme) => theme.breakpoints.up('sm'));\n\n\tconst { Icon, message } = props;\n\tconst fontRatio = props.fontRatio || (desktopMode ? 50 : 35);\n\n\treturn <Grid\n\t\tstyle={{ width: '100%', height: '100%', textAlign: 'center' }}\n\t\tcontainer\n\t\tdirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t>\n\t\t<div>\n\t\t\t<Icon style={{ fontSize: fontRatio * 5, color: getModeColor(false, theme) }} />\n\t\t</div>\n\t\t<Typography style={{ fontSize: fontRatio * 0.9, marginTop: fontRatio * 0.5, color: getModeColor(false, theme) }} >{message}</Typography>\n\t</Grid>\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z\"\n}), 'Block');\n\nexports.default = _default;","import { AuthScopes } from \"../../infrastructure/generated/api\";\n\nexport const mapAuthScopeToDisplay: { [key in AuthScopes]: string } = {\n\t[AuthScopes.AdminAuth]: 'dashboard.profile.scope.admin',\n\t[AuthScopes.UserAuth]: 'dashboard.profile.scope.user',\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z\"\n}), 'CloudOff');\n\nexports.default = _default;","import { Grid, Theme, Typography, useMediaQuery, useTheme } from \"@material-ui/core\";\nimport { getModeColor } from \"../logic/common/themeUtils\";\nimport BlockIcon from '@mui/icons-material/Block';\nimport { useTranslation } from \"react-i18next\";\nimport { AuthScopes } from \"../infrastructure/generated/api\";\nimport { sessionManager } from \"../infrastructure/session-manager\";\n\ninterface NoPermissionsProps {\n\tfontRatio?: number;\n}\n\n/**\n * Generic 'no permission' component to show in case of forbidden access\n */\nexport function NoPermissions(props: NoPermissionsProps) {\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\tconst desktopMode = useMediaQuery((theme: Theme) => theme.breakpoints.up('sm'));\n\n\tconst fontRatio = props.fontRatio || (desktopMode ? 50 : 35);\n\n\treturn <Grid\n\t\tstyle={{ width: '100%', height: '100%', textAlign: 'center' }}\n\t\tcontainer\n\t\tdirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"center\"\n\t>\n\t\t<div>\n\t\t\t<BlockIcon style={{ fontSize: fontRatio * 5, color: getModeColor(false, theme) }} />\n\t\t</div>\n\t\t<Typography style={{ fontSize: fontRatio * 0.9, marginTop: fontRatio * 0.5, color: getModeColor(false, theme) }} >{t('You dont have permission to see this content')}</Typography>\n\t</Grid>\n}\n\ninterface SensitiveContentProps {\n\trequiredScopes: AuthScopes[];\n\tchildren: JSX.Element;\n}\n\n/**\n * A simple component to wrap sensitives components and make sure the components renders only with the correct session scope.\n * Otherwise, only a 'NoPermissions' component will be shown \n * @param props \n * @returns \n */\nexport function SensitiveContent(props: SensitiveContentProps) {\n\tif (!props.requiredScopes.includes(sessionManager.scope)) {\n\t\treturn <NoPermissions />;\n\t}\n\treturn props.children;\n}\n\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z\"\n}), 'CloudDone');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Typography from '../Typography';\nimport withStyles from '../styles/withStyles';\nimport FormControlContext, { useFormControl } from '../FormControl/FormControlContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    height: '0.01em',\n    // Fix IE 11 flexbox alignment. To remove at some point.\n    maxHeight: '2em',\n    alignItems: 'center',\n    whiteSpace: 'nowrap'\n  },\n\n  /* Styles applied to the root element if `variant=\"filled\"`. */\n  filled: {\n    '&$positionStart:not($hiddenLabel)': {\n      marginTop: 16\n    }\n  },\n\n  /* Styles applied to the root element if `position=\"start\"`. */\n  positionStart: {\n    marginRight: 8\n  },\n\n  /* Styles applied to the root element if `position=\"end\"`. */\n  positionEnd: {\n    marginLeft: 8\n  },\n\n  /* Styles applied to the root element if `disablePointerEvents=true`. */\n  disablePointerEvents: {\n    pointerEvents: 'none'\n  },\n\n  /* Styles applied if the adornment is used inside <FormControl hiddenLabel />. */\n  hiddenLabel: {},\n\n  /* Styles applied if the adornment is used inside <FormControl margin=\"dense\" />. */\n  marginDense: {}\n};\nvar InputAdornment = /*#__PURE__*/React.forwardRef(function InputAdornment(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disablePointer = props.disablePointerEvents,\n      disablePointerEvents = _props$disablePointer === void 0 ? false : _props$disablePointer,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      position = props.position,\n      variantProp = props.variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"disablePointerEvents\", \"disableTypography\", \"position\", \"variant\"]);\n\n  var muiFormControl = useFormControl() || {};\n  var variant = variantProp;\n\n  if (variantProp && muiFormControl.variant) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (variantProp === muiFormControl.variant) {\n        console.error('Material-UI: The `InputAdornment` variant infers the variant prop ' + 'you do not have to provide one.');\n      }\n    }\n  }\n\n  if (muiFormControl && !variant) {\n    variant = muiFormControl.variant;\n  }\n\n  return /*#__PURE__*/React.createElement(FormControlContext.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, position === 'end' ? classes.positionEnd : classes.positionStart, disablePointerEvents && classes.disablePointerEvents, muiFormControl.hiddenLabel && classes.hiddenLabel, variant === 'filled' && classes.filled, muiFormControl.margin === 'dense' && classes.marginDense),\n    ref: ref\n  }, other), typeof children === 'string' && !disableTypography ? /*#__PURE__*/React.createElement(Typography, {\n    color: \"textSecondary\"\n  }, children) : children));\n});\nprocess.env.NODE_ENV !== \"production\" ? InputAdornment.propTypes = {\n  /**\n   * The content of the component, normally an `IconButton` or string.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Disable pointer events on the root.\n   * This allows for the content of the adornment to focus the input on click.\n   */\n  disablePointerEvents: PropTypes.bool,\n\n  /**\n   * If children is a string then disable wrapping in a Typography component.\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  muiFormControl: PropTypes.object,\n\n  /**\n   * The position this adornment should appear relative to the `Input`.\n   */\n  position: PropTypes.oneOf(['start', 'end']).isRequired,\n\n  /**\n   * The variant to use.\n   * Note: If you are using the `TextField` component or the `FormControl` component\n   * you do not have to set this manually.\n   */\n  variant: PropTypes.oneOf(['standard', 'outlined', 'filled'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiInputAdornment'\n})(InputAdornment);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2 17h20v2H2v-2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48 1.3.75zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7l-.85 1.48zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23v-1.5z\"\n}), 'Password');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"\n}), 'CloudUpload');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n}), 'ArrowBack');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\"\n}), 'ArrowForward');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 5.99 19.53 19H4.47L12 5.99M12 2 1 21h22L12 2z\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M13 16h-2v2h2zm0-6h-2v5h2z\"\n}, \"1\")], 'WarningAmber');\n\nexports.default = _default;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getAvatarUtilityClass(slot) {\n  return generateUtilityClass('MuiAvatar', slot);\n}\nconst avatarClasses = generateUtilityClasses('MuiAvatar', ['root', 'colorDefault', 'circular', 'rounded', 'square', 'img', 'fallback']);\nexport default avatarClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"alt\", \"children\", \"className\", \"component\", \"imgProps\", \"sizes\", \"src\", \"srcSet\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Person from '../internal/svg-icons/Person';\nimport { getAvatarUtilityClass } from './avatarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    colorDefault\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, colorDefault && 'colorDefault'],\n    img: ['img'],\n    fallback: ['fallback']\n  };\n  return composeClasses(slots, getAvatarUtilityClass, classes);\n};\n\nconst AvatarRoot = styled('div', {\n  name: 'MuiAvatar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], ownerState.colorDefault && styles.colorDefault];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  position: 'relative',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  flexShrink: 0,\n  width: 40,\n  height: 40,\n  fontFamily: theme.typography.fontFamily,\n  fontSize: theme.typography.pxToRem(20),\n  lineHeight: 1,\n  borderRadius: '50%',\n  overflow: 'hidden',\n  userSelect: 'none'\n}, ownerState.variant === 'rounded' && {\n  borderRadius: theme.shape.borderRadius\n}, ownerState.variant === 'square' && {\n  borderRadius: 0\n}, ownerState.colorDefault && {\n  color: theme.palette.background.default,\n  backgroundColor: theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n}));\nconst AvatarImg = styled('img', {\n  name: 'MuiAvatar',\n  slot: 'Img',\n  overridesResolver: (props, styles) => styles.img\n})({\n  width: '100%',\n  height: '100%',\n  textAlign: 'center',\n  // Handle non-square image. The property isn't supported by IE11.\n  objectFit: 'cover',\n  // Hide alt text.\n  color: 'transparent',\n  // Hide the image broken icon, only works on Chrome.\n  textIndent: 10000\n});\nconst AvatarFallback = styled(Person, {\n  name: 'MuiAvatar',\n  slot: 'Fallback',\n  overridesResolver: (props, styles) => styles.fallback\n})({\n  width: '75%',\n  height: '75%'\n});\n\nfunction useLoaded({\n  crossOrigin,\n  referrerPolicy,\n  src,\n  srcSet\n}) {\n  const [loaded, setLoaded] = React.useState(false);\n  React.useEffect(() => {\n    if (!src && !srcSet) {\n      return undefined;\n    }\n\n    setLoaded(false);\n    let active = true;\n    const image = new Image();\n\n    image.onload = () => {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('loaded');\n    };\n\n    image.onerror = () => {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('error');\n    };\n\n    image.crossOrigin = crossOrigin;\n    image.referrerPolicy = referrerPolicy;\n    image.src = src;\n\n    if (srcSet) {\n      image.srcset = srcSet;\n    }\n\n    return () => {\n      active = false;\n    };\n  }, [crossOrigin, referrerPolicy, src, srcSet]);\n  return loaded;\n}\n\nconst Avatar = /*#__PURE__*/React.forwardRef(function Avatar(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAvatar'\n  });\n\n  const {\n    alt,\n    children: childrenProp,\n    className,\n    component = 'div',\n    imgProps,\n    sizes,\n    src,\n    srcSet,\n    variant = 'circular'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  let children = null; // Use a hook instead of onError on the img element to support server-side rendering.\n\n  const loaded = useLoaded(_extends({}, imgProps, {\n    src,\n    srcSet\n  }));\n  const hasImg = src || srcSet;\n  const hasImgNotFailing = hasImg && loaded !== 'error';\n\n  const ownerState = _extends({}, props, {\n    colorDefault: !hasImgNotFailing,\n    component,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  if (hasImgNotFailing) {\n    children = /*#__PURE__*/_jsx(AvatarImg, _extends({\n      alt: alt,\n      src: src,\n      srcSet: srcSet,\n      sizes: sizes,\n      ownerState: ownerState,\n      className: classes.img\n    }, imgProps));\n  } else if (childrenProp != null) {\n    children = childrenProp;\n  } else if (hasImg && alt) {\n    children = alt[0];\n  } else {\n    children = /*#__PURE__*/_jsx(AvatarFallback, {\n      className: classes.fallback\n    });\n  }\n\n  return /*#__PURE__*/_jsx(AvatarRoot, _extends({\n    as: component,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Avatar.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Used in combination with `src` or `srcSet` to\n   * provide an alt attribute for the rendered `img` element.\n   */\n  alt: PropTypes.string,\n\n  /**\n   * Used to render icon or text elements inside the Avatar if `src` is not set.\n   * This can be an element, or just a string.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes\">Attributes</a> applied to the `img` element if the component is used to display an image.\n   * It can be used to listen for the loading error event.\n   */\n  imgProps: PropTypes.object,\n\n  /**\n   * The `sizes` attribute for the `img` element.\n   */\n  sizes: PropTypes.string,\n\n  /**\n   * The `src` attribute for the `img` element.\n   */\n  src: PropTypes.string,\n\n  /**\n   * The `srcSet` attribute for the `img` element.\n   * Use this attribute for responsive image display.\n   */\n  srcSet: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object,\n\n  /**\n   * The shape of the avatar.\n   * @default 'circular'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['circular', 'rounded', 'square']), PropTypes.string])\n} : void 0;\nexport default Avatar;","import { CircularProgress, Grid, IconButton, TextField, Theme, Typography, useMediaQuery, useTheme } from \"@material-ui/core\";\nimport { User } from \"../../infrastructure/generated/api\";\nimport Avatar from '@mui/material/Avatar';\nimport { DEFAULT_FONT_RATION } from \"../../infrastructure/consts\";\nimport { marginLeft } from \"../../logic/common/themeUtils\";\nimport { extractProfileAvatarText } from \"../../logic/common/profileUtils\";\nimport { useMemo, useState } from \"react\";\nimport { ThemeTooltip } from \"../global/ThemeTooltip\";\nimport EditIcon from '@mui/icons-material/Edit';\nimport SaveIcon from '@material-ui/icons/Save';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslation } from \"react-i18next\";\nimport { ApiFacade } from \"../../infrastructure/generated/proxies/api-proxies\";\nimport { ProfileItemProps } from \"../../pages/dashboard-pages/Profile\";\nimport { handleServerRestError } from \"../../services/notifications.service\";\n\nexport function ProfileName(props: ProfileItemProps) {\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\tconst desktopMode = useMediaQuery((theme: Theme) => theme.breakpoints.up('sm'));\n\tconst wideDesktopMode = useMediaQuery((theme: Theme) => theme.breakpoints.up('md'));\n\n\tconst [editNameMode, setEditNameMode] = useState<boolean>(false);\n\tconst [editingName, setEditingName] = useState<boolean>(false);\n\tconst [editNameError, setEditNameError] = useState<boolean>(false);\n\tconst [editName, setEditName] = useState<string>('');\n\n\tconst avatarLetters = useMemo(() => extractProfileAvatarText(props.profile), [props.profile]);\n\n\tasync function rename() {\n\t\tif (!editName) {\n\t\t\tsetEditNameError(true);\n\t\t\treturn;\n\t\t}\n\t\tsetEditingName(true);\n\n\t\ttry {\n\t\t\tconst newProfile = { ...props.profile, displayName: editName } as User;\n\t\t\tawait ApiFacade.UsersApi.setUser(newProfile, props.profile.email);\n\t\t\tprops.setProfile(newProfile);\n\t\t\tsetEditNameMode(false);\n\t\t} catch (error) {\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\t\tsetEditingName(false);\n\t}\n\n\tconst { profile } = props;\n\n\treturn <Grid\n\t\tcontainer\n\t\tdirection=\"row\"\n\t\tjustifyContent=\"flex-start\"\n\t\talignItems=\"center\"\n\t>\n\t\t{/* Show the big avatar only on wide screens */}\n\t\t{wideDesktopMode && <div>\n\t\t\t<Avatar style={{ width: DEFAULT_FONT_RATION * 7.5, height: DEFAULT_FONT_RATION * 7.5, fontSize: DEFAULT_FONT_RATION * 4.5 }}>\n\t\t\t\t{avatarLetters}\n\t\t\t</Avatar>\n\t\t</div>}\n\t\t<div style={{ maxWidth: DEFAULT_FONT_RATION * 25, [marginLeft(theme)]: wideDesktopMode ? DEFAULT_FONT_RATION * 2 : 0 }}>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tdirection=\"column\"\n\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\talignItems=\"flex-start\"\n\t\t\t>\n\t\t\t\t<div style={{ maxWidth: '100%' }}>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{!editNameMode && <div style={{ maxWidth: `calc(100% - 70px)` }}>\n\t\t\t\t\t\t\t<Typography style={{ wordBreak: 'break-word', fontSize: DEFAULT_FONT_RATION * (desktopMode ? 2.3 : 1.8) }} >{profile.displayName}</Typography>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t{editNameMode && <div style={{ width: `calc(100% - 45px)` }}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tstyle={{ width: `100%` }}\n\t\t\t\t\t\t\t\tdisabled={editingName}\n\t\t\t\t\t\t\t\terror={editNameError}\n\t\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\t\tvalue={editName}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetEditNameError(false);\n\t\t\t\t\t\t\t\t\tsetEditName(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t<div style={{ [marginLeft(theme)]: DEFAULT_FONT_RATION }}>\n\t\t\t\t\t\t\t{!editNameMode && <ThemeTooltip title={<span>{t('global.edit')}</span>} >\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tstyle={{ padding: DEFAULT_FONT_RATION * 0.5 }}\n\t\t\t\t\t\t\t\t\tonClick={() => { setEditNameMode(true); setEditName(profile.displayName || ''); }}\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\">\n\t\t\t\t\t\t\t\t\t<EditIcon style={{ fontSize: DEFAULT_FONT_RATION * 1.5 }} />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</ThemeTooltip>}\n\t\t\t\t\t\t\t{editingName && <CircularProgress size={DEFAULT_FONT_RATION * 0.8} thickness={10} />}\n\t\t\t\t\t\t\t{!editingName && editNameMode && <ThemeTooltip title={<span>{t('global.save')}</span>} >\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tstyle={{ padding: DEFAULT_FONT_RATION * 0.1 }}\n\t\t\t\t\t\t\t\t\tonClick={rename}\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\">\n\t\t\t\t\t\t\t\t\t<SaveIcon style={{ fontSize: DEFAULT_FONT_RATION * 0.8 }} />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</ThemeTooltip>}\n\t\t\t\t\t\t\t{!editingName && editNameMode && <ThemeTooltip title={<span>{t('global.cancel')}</span>} >\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tstyle={{ padding: DEFAULT_FONT_RATION * 0.1 }}\n\t\t\t\t\t\t\t\t\tonClick={() => { setEditNameMode(false); }}\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\">\n\t\t\t\t\t\t\t\t\t<CloseIcon style={{ fontSize: DEFAULT_FONT_RATION * 0.8 }} />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</ThemeTooltip>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography style={{ wordBreak: 'break-word', fontSize: DEFAULT_FONT_RATION * (desktopMode ? 1.3 : 1), color: theme.palette.text.hint }} >{profile.email}</Typography>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</div>\n\t</Grid>;\n}","import { AuthScopes, User } from \"../../infrastructure/generated/api\";\nimport { DEFAULT_FONT_RATION } from \"../../infrastructure/consts\";\nimport Autocomplete from '@mui/material/Autocomplete';\nimport { useEffect, useState } from \"react\";\nimport { mapAuthScopeToDisplay } from \"../../logic/common/usersUtils\";\nimport { useTranslation } from \"react-i18next\";\nimport TextField from '@mui/material/TextField';\nimport { sessionManager } from \"../../infrastructure/session-manager\";\nimport LinearProgress from '@mui/material/LinearProgress';\nimport { handleServerRestError } from \"../../services/notifications.service\";\nimport { ApiFacade } from \"../../infrastructure/generated/proxies/api-proxies\";\nimport { ProfileItemProps } from \"../../pages/dashboard-pages/Profile\";\n\nexport function ProfileScope(props: ProfileItemProps) {\n\tconst { t } = useTranslation();\n\tconst [scope, setScope] = useState<AuthScopes>(props.profile.scope);\n\tconst [saving, setSaving] = useState<boolean>(false);\n\n\tuseEffect(() => {\n\t\tsetScope(props.profile.scope);\n\t}, [props.profile.scope])\n\n\tasync function saveNewScope(scope: AuthScopes) {\n\t\tsetSaving(true);\n\n\t\tconst previousScope = scope;\n\t\tsetScope(scope);\n\t\ttry {\n\t\t\tconst newProfile = { ...props.profile, scope } as User;\n\t\t\tawait ApiFacade.UsersApi.setUser(newProfile, props.profile.email);\n\t\t\tprops.setProfile(newProfile);\n\t\t} catch (error) {\n\t\t\t// In case of error, revert back\n\t\t\tsetScope(previousScope);\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\t\tsetSaving(false);\n\t}\n\n\treturn <Autocomplete\n\t\tstyle={{ width: DEFAULT_FONT_RATION * 10 }}\n\t\t// Only admins can change the scope\n\t\tdisabled={!sessionManager.isAdmin || saving}\n\t\tmultiple\n\t\tlimitTags={1}\n\t\toptions={[AuthScopes.AdminAuth, AuthScopes.UserAuth]}\n\t\tgetOptionLabel={(option) => t(mapAuthScopeToDisplay[option])}\n\t\tvalue={scope ? [scope] : []}\n\t\tonChange={(e, o) => {\n\t\t\t// Select the last scope, since only one scope can set at a time, so take the newest.\n\t\t\tconst newScope = o[o.length - 1];\n\t\t\t// If non selected, keep the selection, but don't save changes, since user must have scope set,\n\t\t\tif (!newScope) {\n\t\t\t\tsetScope(newScope);\n\t\t\t} else {\n\t\t\t\tsaveNewScope(newScope);\n\t\t\t}\n\t\t}}\n\t\trenderInput={(params) => (\n\t\t\t<div>\n\t\t\t\t<TextField\n\t\t\t\t\t{...params}\n\t\t\t\t\terror={!scope}\n\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t/>\n\t\t\t\t{saving && <LinearProgress />}\n\t\t\t</div>\n\t\t)}\n\t/>;\n}","import { useTheme } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport BlockIcon from '@mui/icons-material/Block';\nimport { ProfileItemProps } from \"../../pages/dashboard-pages/Profile\";\nimport { ApiFacade } from \"../../infrastructure/generated/proxies/api-proxies\";\nimport { handleServerRestError } from \"../../services/notifications.service\";\nimport { AlertDialog } from \"../AlertDialog\";\nimport { inputColor } from \"../../logic/common/themeUtils\";\n\nexport function ProfileRevokeSession(props: ProfileItemProps) {\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\tconst [loading, setLoading] = useState<boolean>(false);\n\tconst [openRevokeAlert, setOpenRevokeAlert] = useState<boolean>(false);\n\n\tasync function revokeSessions() {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait ApiFacade.AuthenticationApi.logoutSessions(props.profile.email);\n\t\t} catch (error) {\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\n\t\ttry {\n\t\t\t// Try again, just to make sure that if the current user users one of logged out session, \n\t\t\t// the user will get 401 in the second request, and redirect to login page\n\t\t\tawait ApiFacade.AuthenticationApi.logoutSessions(props.profile.email);\n\t\t} catch (error) {\n\t\t}\n\t\tsetLoading(false);\n\t}\n\n\treturn <div>\n\t\t<AlertDialog\n\t\t\topen={openRevokeAlert}\n\t\t\tcancelText={t('global.cancel')}\n\t\t\tsubmitText={t('dashboard.profile.revoke.session.revoke')}\n\t\t\ttitle={t('dashboard.profile.revoke.session.revoke.alert.title', { name: props.profile.displayName })}\n\t\t\ttext={t('dashboard.profile.revoke.session.revoke.alert.text', { name: props.profile.displayName })}\n\t\t\tonCancel={() => setOpenRevokeAlert(false)}\n\t\t\tonSubmit={() => { setOpenRevokeAlert(false); revokeSessions(); }}\n\t\t\tsubmitColor={'error'}\n\t\t/>\n\t\t<LoadingButton\n\t\t\tstyle={{ width: '100%', color: inputColor(theme) }}\n\t\t\tloading={loading}\n\t\t\tloadingPosition={'start'}\n\t\t\tdisabled={loading}\n\t\t\tvariant=\"contained\"\n\t\t\tcolor={'inherit'}\n\t\t\tendIcon={<BlockIcon />}\n\t\t\tonClick={() => setOpenRevokeAlert(true)}>\n\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t{t('dashboard.profile.revoke.session.revoke')}\n\t\t\t</div>\n\t\t</LoadingButton>\n\t</div>;\n}","import { Button, Grid, IconButton, InputAdornment, useTheme } from \"@material-ui/core\";\nimport { DEFAULT_FONT_RATION, PASSWORD_MIN_LENGTH } from \"../../infrastructure/consts\";\nimport { inputColor } from \"../../logic/common/themeUtils\";\nimport { useTranslation } from \"react-i18next\";\nimport TextField from '@mui/material/TextField';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport PasswordIcon from '@mui/icons-material/Password';\nimport Collapse from '@mui/material/Collapse';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport { handleServerRestError } from \"../../services/notifications.service\";\nimport { ApiFacade } from \"../../infrastructure/generated/proxies/api-proxies\";\nimport { ProfileItemProps } from \"../../pages/dashboard-pages/Profile\";\nimport { useState } from \"react\";\n\nexport function ProfileOverridePass(props: ProfileItemProps) {\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\tconst [password, setPassword] = useState<string>('');\n\tconst [saving, setSaving] = useState<boolean>(false);\n\tconst [showPasswordInputMode, setShowPasswordInputMode] = useState<boolean>(false);\n\tconst [showPassword, setShowPassword] = useState<boolean>(false);\n\n\tfunction handleMouseDownInput(event: React.MouseEvent<HTMLButtonElement>) {\n\t\tevent.preventDefault();\n\t};\n\n\tasync function savePassword() {\n\t\tsetSaving(true);\n\t\ttry {\n\t\t\tawait ApiFacade.UsersApi.setUser({ ...props.profile, password }, props.profile.email);\n\t\t\t// Once password successfully changed, mark ChangeRequired as off\n\t\t\tprops.setProfile({ ...props.profile, passwordChangeRequired: false });\n\t\t} catch (error) {\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\t\tsetSaving(false);\n\t\t// Reset components states\n\t\tsetShowPasswordInputMode(false);\n\t\tsetShowPassword(false);\n\t\tsetPassword('');\n\t}\n\n\treturn <Grid\n\t\tcontainer\n\t\tdirection=\"column\"\n\t\tjustifyContent=\"center\"\n\t\talignItems=\"stretch\"\n\t>\n\t\t<div>\n\t\t\t<LoadingButton\n\t\t\t\tstyle={{ width: '100%', color: inputColor(theme) }}\n\t\t\t\tloading={saving}\n\t\t\t\tloadingPosition={'start'}\n\t\t\t\tdisabled={saving || showPasswordInputMode}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor={'inherit'}\n\t\t\t\tendIcon={<PasswordIcon />}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetShowPasswordInputMode(true);\n\t\t\t\t\tsetPassword('');\n\t\t\t\t}}>\n\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t{t('dashboard.profile.override.pass.set.new.password')}\n\t\t\t\t</div>\n\t\t\t</LoadingButton>\n\t\t</div>\n\t\t<div>\n\t\t\t<Collapse in={showPasswordInputMode}>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t>\n\t\t\t\t\t<div style={{ height: DEFAULT_FONT_RATION * 2.5, marginTop: DEFAULT_FONT_RATION * 0.7 }}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tstyle={{ width: `100%` }}\n\t\t\t\t\t\t\tdisabled={saving}\n\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tplaceholder={t('dashboard.profile.override.pass.new.password.placeholder')}\n\t\t\t\t\t\t\thelperText={t('dashboard.profile.override.pass.new.password.help', { length: PASSWORD_MIN_LENGTH })}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t// Disable browser password suggestions\n\t\t\t\t\t\t\tautoComplete={'new-password'}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => { setShowPassword(!showPassword); }}\n\t\t\t\t\t\t\t\t\t\t\tonMouseDown={handleMouseDownInput}\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityIcon /> : <VisibilityOffIcon />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tstyle={{ marginTop: DEFAULT_FONT_RATION * 0.7 }}\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\talignItems=\"flex-end\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button disabled={saving} variant=\"contained\" onClick={() => setShowPasswordInputMode(false)}>{t('global.cancel')}</Button>\n\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\tstyle={{ minWidth: 200 }}\n\t\t\t\t\t\t\tloading={saving}\n\t\t\t\t\t\t\tloadingPosition={'start'}\n\t\t\t\t\t\t\tdisabled={!password || password.length < PASSWORD_MIN_LENGTH}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\tonClick={savePassword}>\n\t\t\t\t\t\t\t{t('dashboard.profile.override.pass.set.password')}\n\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Collapse>\n\t\t</div>\n\t</Grid>;\n}","import { Button, Grid, IconButton, InputAdornment, useTheme } from \"@material-ui/core\";\nimport { RemoteConnectionStatus, User } from \"../../infrastructure/generated/api\";\nimport { DEFAULT_FONT_RATION } from \"../../infrastructure/consts\";\nimport { inputColor } from \"../../logic/common/themeUtils\";\nimport { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport TextField from '@mui/material/TextField';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport CloudOffIcon from '@mui/icons-material/CloudOff';\nimport Collapse from '@mui/material/Collapse';\nimport { ApiFacade } from \"../../infrastructure/generated/proxies/api-proxies\";\nimport { handleServerRestError } from \"../../services/notifications.service\";\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport { remoteRegisteredUsersService } from \"../../services/users.service\";\nimport { AlertDialog } from \"../AlertDialog\";\nimport { useLiveliness } from \"../../hooks/useLiveliness\";\n\ninterface ProfileRemoteAccessProps {\n\tprofile: User;\n\tremoteRegisteredUsers: string[] | undefined;\n}\n\nexport function ProfileRemoteAccess(props: ProfileRemoteAccessProps) {\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\tconst { remoteConnection } = useLiveliness();\n\n\tconst [loading, setLoading] = useState<boolean>(false);\n\tconst [prepareSendMode, setPrepareSendMode] = useState<boolean>(false);\n\tconst [waitForCodeMode, setWaitForCodeMode] = useState<boolean>(false);\n\tconst [authCode, setAuthCode] = useState<string>('');\n\tconst [showPassword, setShowPassword] = useState<boolean>(false);\n\tconst [openUnregisterAlert, setOpenUnregisterAlert] = useState<boolean>(false);\n\n\t/**\n\t * Request authentication code for user from the remote server\n\t */\n\tasync function requestAuthCode() {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait ApiFacade.UsersApi.requestUserForwarding(props.profile.email);\n\t\t\t// Once it's succeed move to the \"type your code\" view.\n\t\t\tsetPrepareSendMode(false);\n\t\t\tsetWaitForCodeMode(true);\n\t\t\t// Reset auth code.\n\t\t\tsetAuthCode('');\n\t\t} catch (error) {\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\t\tsetLoading(false);\n\t}\n\n\t/**\n\t * Register user to the remote server by the authentication code\n\t */\n\tasync function registerUser() {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait ApiFacade.UsersApi.requestUserForwardingAuth({ code: authCode }, props.profile.email);\n\t\t\t// Once it's succeed, refresh registered users list\n\t\t\tawait remoteRegisteredUsersService.forceFetchData();\n\t\t\t// Reset view\n\t\t\tsetWaitForCodeMode(false);\n\t\t\tsetAuthCode('');\n\t\t} catch (error) {\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\t\tsetLoading(false);\n\t}\n\n\tasync function unregisterUser() {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait ApiFacade.UsersApi.removeUserForwarding(props.profile.email);\n\t\t\t// Once it's succeed, refresh registered users list\n\t\t\tawait remoteRegisteredUsersService.forceFetchData();\n\t\t} catch (error) {\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\t\tsetLoading(false);\n\t}\n\n\tfunction handleMouseDownInput(event: React.MouseEvent<HTMLButtonElement>) {\n\t\tevent.preventDefault();\n\t};\n\n\tconst { profile, remoteRegisteredUsers } = props;\n\tconst connectionOK = remoteConnection === RemoteConnectionStatus.ConnectionOK;\n\n\treturn <div style={{ width: '100%' }}>\n\t\t<AlertDialog\n\t\t\topen={openUnregisterAlert}\n\t\t\tcancelText={t('global.cancel')}\n\t\t\tsubmitText={t('dashboard.profile.remote.access.unregister')}\n\t\t\ttitle={t('dashboard.profile.remote.access.unregister.alert.title', { name: props.profile.displayName })}\n\t\t\ttext={t('dashboard.profile.remote.access.unregister.alert.text', { name: props.profile.displayName })}\n\t\t\tonCancel={() => setOpenUnregisterAlert(false)}\n\t\t\tonSubmit={() => { setOpenUnregisterAlert(false); unregisterUser(); }}\n\t\t\tsubmitColor={'error'}\n\t\t/>\n\t\t<div>\n\t\t\t{!connectionOK && <LoadingButton\n\t\t\t\tstyle={{ width: '100%', color: inputColor(theme) }}\n\t\t\t\tloading={loading}\n\t\t\t\tloadingPosition={'start'}\n\t\t\t\tdisabled={true}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor={'inherit'}\n\t\t\t\tendIcon={<CloudOffIcon />}\n\t\t\t\tonClick={() => { }}>\n\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t{t('dashboard.profile.remote.access.no.remote.connection')}\n\t\t\t\t</div>\n\t\t\t</LoadingButton>}\n\t\t\t{connectionOK && remoteRegisteredUsers?.includes(profile.email) && <LoadingButton\n\t\t\t\tstyle={{ width: '100%', color: inputColor(theme) }}\n\t\t\t\tloading={loading}\n\t\t\t\tloadingPosition={'start'}\n\t\t\t\tdisabled={false}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor={'inherit'}\n\t\t\t\tendIcon={<CloudOffIcon />}\n\t\t\t\tonClick={() => setOpenUnregisterAlert(true)}>\n\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t{t('dashboard.profile.remote.access.unregister.button')}\n\t\t\t\t</div>\n\t\t\t</LoadingButton>}\n\t\t\t{connectionOK && !remoteRegisteredUsers?.includes(profile.email) && <LoadingButton\n\t\t\t\tstyle={{ width: '100%', color: inputColor(theme) }}\n\t\t\t\tloading={loading}\n\t\t\t\tloadingPosition={'start'}\n\t\t\t\tdisabled={false}\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor={'inherit'}\n\t\t\t\tendIcon={<CloudUploadIcon />}\n\t\t\t\tonClick={() => setPrepareSendMode(true)}>\n\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t{t('dashboard.profile.remote.access.register.button')}\n\t\t\t\t</div>\n\t\t\t</LoadingButton>}\n\t\t</div>\n\t\t<div>\n\t\t\t<Collapse in={prepareSendMode}>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t>\n\t\t\t\t\t<div style={{ height: DEFAULT_FONT_RATION * 2.5, marginTop: DEFAULT_FONT_RATION * 0.7 }}>\n\t\t\t\t\t\t{t('dashboard.profile.remote.access.request.auth.code.text')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tstyle={{ marginTop: DEFAULT_FONT_RATION * 0.7 }}\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\talignItems=\"flex-end\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button disabled={loading} variant=\"contained\" onClick={() => setPrepareSendMode(false)}>{t('global.cancel')}</Button>\n\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\tstyle={{ minWidth: 200 }}\n\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\tloadingPosition={'start'}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\tonClick={requestAuthCode}>\n\t\t\t\t\t\t\t{t('dashboard.profile.remote.access.request.auth.code')}\n\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Collapse>\n\t\t</div>\n\t\t<div>\n\t\t\t<Collapse in={waitForCodeMode}>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t>\n\t\t\t\t\t<div style={{ height: DEFAULT_FONT_RATION * 2.5, marginTop: DEFAULT_FONT_RATION * 0.7 }}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tstyle={{ width: `100%` }}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\ttype={'text'}\n\t\t\t\t\t\t\tvalue={authCode}\n\t\t\t\t\t\t\tplaceholder={t('dashboard.profile.remote.access.auth.code')}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetAuthCode(e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t// Disable browser password suggestions\n\t\t\t\t\t\t\tautoComplete={'new-password'}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => { setShowPassword(!showPassword); }}\n\t\t\t\t\t\t\t\t\t\t\tonMouseDown={handleMouseDownInput}\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityIcon /> : <VisibilityOffIcon />}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tstyle={{ marginTop: DEFAULT_FONT_RATION * 0.7 }}\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\talignItems=\"flex-end\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button disabled={loading} variant=\"contained\" onClick={() => setWaitForCodeMode(false)}>{t('global.cancel')}</Button>\n\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\tstyle={{ minWidth: 200 }}\n\t\t\t\t\t\t\tdisabled={!authCode}\n\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\tloadingPosition={'start'}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\tonClick={registerUser}>\n\t\t\t\t\t\t\t{t('dashboard.profile.remote.access.register')}\n\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Collapse>\n\t\t</div>\n\t</div>;\n}\n","import { User } from \"../../infrastructure/generated/api\";\nimport { useEffect, useState } from \"react\";\nimport LinearProgress from '@mui/material/LinearProgress';\nimport { handleServerRestError } from \"../../services/notifications.service\";\nimport { ApiFacade } from \"../../infrastructure/generated/proxies/api-proxies\";\nimport { ProfileItemProps } from \"../../pages/dashboard-pages/Profile\";\nimport { ThemeSwitch } from \"../global/ThemeSwitch\";\n\nexport function ProfileTFA(props: ProfileItemProps) {\n\tconst [forceMfa, setForceMfa] = useState<boolean>(!props.profile.ignoreTfa);\n\tconst [saving, setSaving] = useState<boolean>(false);\n\n\tuseEffect(() => {\n\t\tsetForceMfa(!props.profile.ignoreTfa);\n\t}, [props.profile.ignoreTfa])\n\n\tasync function toggleMfa() {\n\t\tsetSaving(true);\n\n\t\tconst previousForceMfa = forceMfa;\n\t\tconst newForceMfa = !forceMfa;\n\t\n\t\t// toggle the MFA switch\n\t\tsetForceMfa(newForceMfa);\n\t\ttry {\n\t\t\tconst newProfile = { ...props.profile, ignoreTfa: !newForceMfa } as User;\n\t\t\tawait ApiFacade.UsersApi.setUser(newProfile, props.profile.email);\n\t\t\tprops.setProfile(newProfile);\n\t\t} catch (error) {\n\t\t\t// In case or error, revert back\n\t\t\tsetForceMfa(previousForceMfa);\n\t\t\tawait handleServerRestError(error);\n\t\t}\n\t\tsetSaving(false);\n\t}\n\n\treturn <div>\n\t\t<ThemeSwitch\n\t\t\tdisabled={saving}\n\t\t\tchecked={forceMfa}\n\t\t\tonChange={toggleMfa}\n\t\t\tinputProps={{ 'aria-label': 'controlled' }}\n\t\t/>\n\t\t{saving && <LinearProgress />}\n\t</div>;\n}","import { Button, Grid, Theme, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport { RemoteConnectionStatus, User } from '../../infrastructure/generated/api';\nimport { useEffect, useMemo, useState } from 'react';\nimport { handleServerRestError } from '../../services/notifications.service';\nimport { Loader } from '../../components/Loader';\nimport { useTranslation } from 'react-i18next';\nimport { DEFAULT_FONT_RATION } from '../../infrastructure/consts';\nimport { NoContent } from '../../components/NoContent';\nimport { usersService, remoteRegisteredUsersService, profileService } from '../../services/users.service';\nimport CloudDoneIcon from '@mui/icons-material/CloudDone';\nimport CloudOffIcon from '@mui/icons-material/CloudOff';\nimport { NoPermissions } from '../../components/NoPermissions';\nimport { sessionManager } from '../../infrastructure/session-manager';\nimport { useHistory, useParams } from 'react-router-dom';\nimport PermIdentityOutlined from '@material-ui/icons/PermIdentityOutlined';\nimport { marginRight } from '../../logic/common/themeUtils';\nimport BlockIcon from '@mui/icons-material/Block';\nimport { ProfileName } from '../../components/profile/ProfileName';\nimport { ProfileScope } from '../../components/profile/ProfileScope';\nimport { ProfileRevokeSession } from '../../components/profile/ProfileRevokeSession';\nimport { ProfileOverridePass } from '../../components/profile/ProfileOverridePass';\nimport { ProfileRemoteAccess } from '../../components/profile/ProfileRemoteAccess';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\nimport { ProfileTFA } from '../../components/profile/ProfileTFA';\nimport WarningAmberIcon from '@mui/icons-material/WarningAmber';\nimport { useData } from '../../hooks/useData';\nimport { useLiveliness } from '../../hooks/useLiveliness';\nimport { ThemeTooltip } from '../../components/global/ThemeTooltip';\n\nexport interface ProfileItemProps {\n\tprofile: User;\n\tsetProfile: (profile: User) => void;\n}\n\nexport default function Profile() {\n\n\tconst { t } = useTranslation();\n\tconst { id } = useParams<{ id: string }>();\n\tconst history = useHistory();\n\tconst theme = useTheme();\n\n\tconst veryWideDesktopMode = useMediaQuery((theme: Theme) => theme.breakpoints.up('lg'));\n\tconst wideDesktopMode = useMediaQuery((theme: Theme) => theme.breakpoints.up('md'));\n\tconst desktopMode = useMediaQuery((theme: Theme) => theme.breakpoints.up('sm'));\n\n\tconst { remoteConnection } = useLiveliness();\n\tconst [remoteRegisteredUsers] = useData(remoteRegisteredUsersService, [], { skipErrorToastOnFailure: true });\n\n\tconst [loading, setLoading] = useState<boolean>(true);\n\tconst [profile, setProfile] = useState<User>();\n\n\tconst BackIcon = useMemo(() => theme.direction === 'ltr' ? ArrowBackIcon : ArrowForwardIcon, [theme.direction]);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tlet profile: User | undefined;\n\t\t\t\tif (!id) {\n\t\t\t\t\t// Dont relay on the local storage in case of change in other dashboard instance\n\t\t\t\t\tprofile = await profileService.getData();\n\t\t\t\t} else if (sessionManager.isAdmin) {\n\t\t\t\t\tconst users = await usersService.getData();\n\t\t\t\t\tprofile = users.find(u => u.email === id);\n\t\t\t\t}\n\t\t\t\tsetProfile(profile);\n\t\t\t} catch (error) {\n\t\t\t\tawait handleServerRestError(error);\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t})();\n\t}, [id]);\n\n\tasync function onProfileUpdate(profile: User) {\n\t\t// Set the update profile (\"clone\" it to make sure state update)\n\t\tsetProfile({ ...profile });\n\t\t// During the change reset users data, if exists.\n\t\tusersService.reset();\n\t\tif (id) {\n\t\t\t// If editing other user profile, after resetting users service do nothing\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\t// Force refetch updated profile \n\t\t\tawait profileService.forceFetchData();\n\t\t} catch (error) {\n\t\t\t// Do nothing\n\t\t}\n\t}\n\n\tfunction goBack() {\n\t\thistory.goBack();\n\t}\n\n\t// non admin is allowed to see self profile only\n\tif (id && !sessionManager.isAdmin) {\n\t\treturn <NoPermissions />\n\t}\n\n\tif (loading) {\n\t\treturn <Loader />;\n\t}\n\n\t// If there are no any profile, show proper message\n\tif (!profile) {\n\t\treturn <NoContent Icon={PermIdentityOutlined} message={t(`dashboard.profile.no.profile.exists`, { email: id })} />\n\t}\n\n\n\tconst propsWidth = desktopMode ? (DEFAULT_FONT_RATION * 15) : '100%';\n\tconst propsFontSize = DEFAULT_FONT_RATION * 1.2;\n\n\tconst remoteConnectionOK = remoteConnection === RemoteConnectionStatus.ConnectionOK;\n\n\treturn <div style={{ width: '100%', height: '100%' }}>\n\t\t<div style={{\n\t\t\tpadding: DEFAULT_FONT_RATION * 1.5,\n\t\t\tpaddingTop: DEFAULT_FONT_RATION * 0.75,\n\t\t\tpaddingBottom: DEFAULT_FONT_RATION * 0.75,\n\t\t\twidth: '100%',\n\t\t\theight: DEFAULT_FONT_RATION,\n\t\t\tmarginBottom: DEFAULT_FONT_RATION * 2\n\t\t}}>\n\t\t\t<Button onClick={goBack} variant=\"outlined\" startIcon={<BackIcon />}>\n\t\t\t\t{t('global.back')}\n\t\t\t</Button>\n\t\t</div>\n\t\t<div style={{\n\t\t\tpadding: DEFAULT_FONT_RATION * 1.5,\n\t\t\tpaddingTop: DEFAULT_FONT_RATION * 0.75,\n\t\t\tpaddingBottom: 0,\n\t\t\toverflowX: 'hidden', overflowY: 'auto',\n\t\t\theight: `calc(100% - ${DEFAULT_FONT_RATION * 4}px)`, maxHeight: `calc(100% - ${DEFAULT_FONT_RATION * 4}px)`\n\t\t}}>\n\t\t\t<div style={{\n\t\t\t\tpadding: DEFAULT_FONT_RATION * (veryWideDesktopMode ? 2 : wideDesktopMode ? 1 : 0),\n\t\t\t\tpaddingRight: 0,\n\t\t\t\tpaddingBottom: 0,\n\t\t\t}}>\n\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection={wideDesktopMode ? 'row' : 'column'}\n\t\t\t\t\t\tjustifyContent={wideDesktopMode ? 'space-between' : 'flex-start'}\n\t\t\t\t\t\talignItems={wideDesktopMode ? 'center' : 'flex-start'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ProfileName profile={profile} setProfile={onProfileUpdate} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ marginTop: DEFAULT_FONT_RATION }}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div style={{ width: '100%', marginBottom: DEFAULT_FONT_RATION }}>\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: DEFAULT_FONT_RATION * 1.2, color: theme.palette.text.disabled, marginBottom: 0 }} >\n\t\t\t\t\t\t\t\t\t\t\t\t{t('dashboard.users.user.2fa')}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<ProfileTFA profile={profile} setProfile={onProfileUpdate} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: DEFAULT_FONT_RATION * 0.9, color: theme.palette.text.disabled, marginBottom: 0 }} >\n\t\t\t\t\t\t\t\t\t\t{t('dashboard.users.user.scope')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<ProfileScope profile={profile} setProfile={onProfileUpdate} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t\t{/* The seconds row, the controls buttons */}\n\t\t\t\t<div style={{ marginTop: veryWideDesktopMode ? '10vh' : '2vh' }}>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div style={{ width: propsWidth, marginTop: DEFAULT_FONT_RATION * 2, [marginRight(theme)]: !desktopMode ? 0 : DEFAULT_FONT_RATION * 6 }}>\n\t\t\t\t\t\t\t<Typography style={{ fontSize: propsFontSize, color: theme.palette.text.disabled, marginBottom: DEFAULT_FONT_RATION }} >\n\t\t\t\t\t\t\t\t{t('dashboard.profile.revoke.session')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ProfileRevokeSession profile={profile} setProfile={onProfileUpdate} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ width: propsWidth, marginTop: DEFAULT_FONT_RATION * 2, [marginRight(theme)]: !desktopMode ? 0 : DEFAULT_FONT_RATION * 6 }}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tstyle={{ width: '100%', marginBottom: DEFAULT_FONT_RATION }}\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: propsFontSize, color: theme.palette.text.disabled }} >\n\t\t\t\t\t\t\t\t\t\t{t('dashboard.profile.set.new.password')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<ThemeTooltip title={<span>{t('dashboard.profile.set.new.password.required')}</span>}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{profile.passwordChangeRequired && <WarningAmberIcon fontSize=\"medium\" color=\"error\" />}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</ThemeTooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<ProfileOverridePass profile={profile} setProfile={onProfileUpdate} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ width: propsWidth, marginTop: DEFAULT_FONT_RATION * 2 }}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tstyle={{ width: '100%', marginBottom: DEFAULT_FONT_RATION }}\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: propsFontSize, color: theme.palette.text.disabled }} >{t('dashboard.profile.remote.access')}</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<ThemeTooltip title={<span>{t(!remoteConnectionOK\n\t\t\t\t\t\t\t\t\t\t? `dashboard.users.remote.access.status.no.connection`\n\t\t\t\t\t\t\t\t\t\t: remoteRegisteredUsers?.includes(profile.email)\n\t\t\t\t\t\t\t\t\t\t\t? 'dashboard.users.remote.access.status.registered'\n\t\t\t\t\t\t\t\t\t\t\t: 'dashboard.users.remote.access.status.unregistered')}</span>}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{!remoteConnectionOK && <CloudOffIcon fontSize=\"medium\" />}\n\t\t\t\t\t\t\t\t\t\t\t{remoteConnectionOK && remoteRegisteredUsers?.includes(profile.email) && <CloudDoneIcon fontSize=\"medium\" />}\n\t\t\t\t\t\t\t\t\t\t\t{remoteConnectionOK && !remoteRegisteredUsers?.includes(profile.email) && <BlockIcon fontSize=\"medium\" />}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</ThemeTooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<ProfileRemoteAccess profile={profile} remoteRegisteredUsers={remoteRegisteredUsers} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>;\n}\n"],"sourceRoot":""}